"use strict";(self.webpackChunkmovie_browser=self.webpackChunkmovie_browser||[]).push([[114],{1114:function(e,t,a){a.r(t),a.d(t,{default:function(){return _}});var n=a(3433),r=a(1413),c=a(9439),i=a(2791),s=a(7689),o=a(3855),l=a(4165),u=a(5861),v=a(1243),d=a(579),h="https://api.themoviedb.org/",m=3,p=function(e){return alert(null!==e&&void 0!==e&&e.message?e.message:"Internal Server Error"),!0},f=function(e){return function(){var t=(0,u.Z)((0,l.Z)().mark((function t(a){var n,r;return(0,l.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(n in t.prev=0,e)""!==e[n]&&void 0!==e[n]&&null!==e[n]||delete e[n];return t.next=4,v.Z.get("".concat(h).concat(m,"/movie/upcoming?language=en-US&page=").concat(e.page));case 4:r=t.sent,a((0,d.Hi)(r.data)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),p(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},g=a(3329),x=function(e){return(0,g.jsxs)("div",{className:"movie_card_container",onClick:function(){e.onClick(e.data.id)},children:[(0,g.jsx)("img",{className:"movie_poster_container",src:"https://image.tmdb.org/t/p/w220_and_h330_face".concat(e.data.poster_path),alt:"img"}),(0,g.jsxs)("div",{className:"movie_description",children:[(0,g.jsxs)("div",{className:"movie_title_rating",children:[(0,g.jsx)("div",{className:"movie_title",children:e.data.title}),(0,g.jsx)("div",{className:"movie_rating",children:"IMDB-".concat(e.data.vote_average)})]}),(0,g.jsx)("div",{className:"movie_details",children:e.data.overview})]})]})},_=function(){var e,t=(0,s.s0)(),a=(0,o.I0)(),_=(0,s.TH)(),y=(0,o.v9)((function(e){return e.movieBrowser.movieListingData})),Z=(0,i.useReducer)((function(e,t){return(0,r.Z)((0,r.Z)({},e),t)}),{moviesList:[],page:1,showSearch:!0,searchKey:""}),w=(0,c.Z)(Z,2),j=w[0],k=w[1];(0,i.useEffect)((function(){var e={page:j.page,searchKey:j.searchKey};a(f(e));var t=[].concat((0,n.Z)(j.moviesList),(0,n.Z)(y.results));k({moviesList:t})}),[j.page]),(0,i.useEffect)((function(){var e,t={page:1,searchKey:j.searchKey};if(j.searchKey.length>0){a((e=t,function(){var t=(0,u.Z)((0,l.Z)().mark((function t(a){var n,r;return(0,l.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(n in t.prev=0,e)""!==e[n]&&void 0!==e[n]&&null!==e[n]||delete e[n];return t.next=4,v.Z.get("".concat(h).concat(m).concat(e.searchKey?"/search":"","/movie?language=en-US").concat(e.searchKey?"&query=".concat(e.searchKey):"","&page=").concat(e.page));case 4:r=t.sent,a((0,d.Hi)(r.data)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),p(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()));var r=(0,n.Z)(y.results);k({moviesList:r})}else a(f(t))}),[j.searchKey]),(0,i.useEffect)((function(){_.pathname.includes("movies-list")||k({showSearch:!1})}),[_.pathname]);var K=function(e){var n;a((n=e,function(){var e=(0,u.Z)((0,l.Z)().mark((function e(t){var a,r;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a in e.prev=0,n)""!==n[a]&&void 0!==n[a]&&null!==n[a]||delete n[a];return e.next=4,v.Z.get("".concat(h,"/").concat(m,"/movie/").concat(n));case 4:r=e.sent,t((0,d.v)(r.data)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),p(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())),t("../movie-details",{state:{showDetailsHeader:!0}})};return null===(e=document.getElementById("movielist_container"))||void 0===e||e.addEventListener("scroll",(function(){var e=document.querySelector("#movielist_container"),t=null===e||void 0===e?void 0:e.clientHeight,a=null===e||void 0===e?void 0:e.scrollHeight;(null===e||void 0===e?void 0:e.scrollTop)+t>=a-5&&k({page:j.page+1})})),(0,g.jsxs)("div",{className:"layout",children:[(0,g.jsxs)("div",{className:"header",children:[j.showSearch&&(0,g.jsx)("div",{className:"search_container",children:(0,g.jsx)("input",{value:j.searchKey,onChange:function(e){var t;t=e.target.value,k({searchKey:t})},type:"text",placeholder:"Search Movies"})}),(0,g.jsx)("div",{className:"home_btn"})]}),(0,g.jsx)("div",{id:"movielist_container",className:"movies_list_container",children:j.moviesList.map((function(e){return(0,g.jsx)(x,{data:e,onClick:K},e.id)}))})]})}}}]);
//# sourceMappingURL=114.200a5d61.chunk.js.map